(function(){"use strict";var n={6166:function(n,o,e){var t=e(5130),i=e(6768);const r={id:"app"};function s(n,o,e,t,s,c){const a=(0,i.g2)("gatehouse-bookings-list");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(a)])}var c=e(4232);const a=n=>((0,i.Qi)("data-v-0d85e9b7"),n=n(),(0,i.jt)(),n),u=a((()=>(0,i.Lk)("h2",{class:"text-center mb-4"},"Gatehouse Bookings",-1))),l={class:"list-group"},g={class:"mb-1"},d={class:"mb-1"},f={class:"mb-1"},b=["onClick"],h=["onClick"],k=["onClick"];function p(n,o,e,t,r,s){return(0,i.uX)(),(0,i.CE)("div",null,[u,(0,i.Lk)("div",l,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.bookings,(n=>((0,i.uX)(),(0,i.CE)("a",{href:"#",class:"list-group-item list-group-item-action",key:n.id},[(0,i.Lk)("h5",g,(0,c.v_)(n.driver_name),1),(0,i.Lk)("p",d,"Company: "+(0,c.v_)(n.company),1),(0,i.Lk)("p",f,"Vehicle Registration: "+(0,c.v_)(n.vehicle_registration),1),(0,i.Lk)("small",null,"Arrival Time: "+(0,c.v_)(new Date(n.arrival_time).toLocaleString()),1),(0,i.Lk)("button",{onClick:o=>s.updateBooking(n.id),class:"btn btn-secondary btn-sm"},"Update",8,b),(0,i.Lk)("button",{onClick:o=>s.cancelBooking(n.id),class:"btn btn-warning btn-sm"},"Cancel",8,h),(0,i.Lk)("button",{onClick:o=>s.deleteBooking(n.id),class:"btn btn-danger btn-sm"},"Delete",8,k)])))),128))])])}var v=e(8355),m={data(){return{bookings:[]}},created(){this.fetchBookings()},methods:{fetchBookings(){v.A.get("/api/gatehouse-bookings/").then((n=>{this.bookings=n.data})).catch((n=>{console.error("Error fetching the bookings:",n)}))},updateBooking(n,o){v.A.put(`/api/gatehouse-bookings/${n}/`,o).then((o=>{const e=this.bookings.findIndex((o=>o.id===n));-1!==e&&(this.$set(this.bookings,e,o.data),console.log("Booking updated successfully"))})).catch((n=>{console.error("There was an error updating the booking:",n)}))},cancelBooking(n){confirm("Are you sure you want to cancel this booking?")&&v.A.put(`/api/gatehouse-bookings/${n}/cancel/`).then((()=>{const o=this.bookings.find((o=>o.id===n));o&&(o.cancelled=!0),console.log("Booking cancelled successfully")})).catch((n=>{console.error("Error cancelling the booking:",n)}))},deleteBooking(n){confirm("Are you sure you want to delete this booking?")&&v.A.delete(`/api/gatehouse-bookings/${n}/`).then((()=>{this.bookings=this.bookings.filter((o=>o.id!==n)),console.log("Booking deleted successfully")})).catch((n=>{console.error("Error deleting the booking:",n)}))}}},y=e(1241);const C=(0,y.A)(m,[["render",p],["__scopeId","data-v-0d85e9b7"]]);var w=C,B={components:{GatehouseBookingsList:w}};const O=(0,y.A)(B,[["render",s]]);var _=O;const L=(0,t.Ef)(_);L.mount("#app")}},o={};function e(t){var i=o[t];if(void 0!==i)return i.exports;var r=o[t]={exports:{}};return n[t].call(r.exports,r,r.exports,e),r.exports}e.m=n,function(){var n=[];e.O=function(o,t,i,r){if(!t){var s=1/0;for(l=0;l<n.length;l++){t=n[l][0],i=n[l][1],r=n[l][2];for(var c=!0,a=0;a<t.length;a++)(!1&r||s>=r)&&Object.keys(e.O).every((function(n){return e.O[n](t[a])}))?t.splice(a--,1):(c=!1,r<s&&(s=r));if(c){n.splice(l--,1);var u=i();void 0!==u&&(o=u)}}return o}r=r||0;for(var l=n.length;l>0&&n[l-1][2]>r;l--)n[l]=n[l-1];n[l]=[t,i,r]}}(),function(){e.n=function(n){var o=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(o,{a:o}),o}}(),function(){e.d=function(n,o){for(var t in o)e.o(o,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)}}(),function(){e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){var n={524:0};e.O.j=function(o){return 0===n[o]};var o=function(o,t){var i,r,s=t[0],c=t[1],a=t[2],u=0;if(s.some((function(o){return 0!==n[o]}))){for(i in c)e.o(c,i)&&(e.m[i]=c[i]);if(a)var l=a(e)}for(o&&o(t);u<s.length;u++)r=s[u],e.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return e.O(l)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=e.O(void 0,[504],(function(){return e(6166)}));t=e.O(t)})();
//# sourceMappingURL=app.cadc11a4.js.map