(function(){"use strict";var o={166:function(o,n,e){var t=e(751),i=e(641);const r={id:"app"};function s(o,n,e,t,s,c){const a=(0,i.g2)("gatehouse-bookings-list");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(a)])}var c=e(33);const a=o=>((0,i.Qi)("data-v-0d85e9b7"),o=o(),(0,i.jt)(),o),l=a((()=>(0,i.Lk)("h2",{class:"text-center mb-4"},"Gatehouse Bookings",-1))),u={class:"list-group"},g={class:"mb-1"},d={class:"mb-1"},f={class:"mb-1"},b=["onClick"],h=["onClick"],k=["onClick"];function p(o,n,e,t,r,s){return(0,i.uX)(),(0,i.CE)("div",null,[l,(0,i.Lk)("div",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.bookings,(o=>((0,i.uX)(),(0,i.CE)("a",{href:"#",class:"list-group-item list-group-item-action",key:o.id},[(0,i.Lk)("h5",g,(0,c.v_)(o.driver_name),1),(0,i.Lk)("p",d,"Company: "+(0,c.v_)(o.company),1),(0,i.Lk)("p",f,"Vehicle Registration: "+(0,c.v_)(o.vehicle_registration),1),(0,i.Lk)("small",null,"Arrival Time: "+(0,c.v_)(new Date(o.arrival_time).toLocaleString()),1),(0,i.Lk)("button",{onClick:n=>s.updateBooking(o.id),class:"btn btn-secondary btn-sm"},"Update",8,b),(0,i.Lk)("button",{onClick:n=>s.cancelBooking(o.id),class:"btn btn-warning btn-sm"},"Cancel",8,h),(0,i.Lk)("button",{onClick:n=>s.deleteBooking(o.id),class:"btn btn-danger btn-sm"},"Delete",8,k)])))),128))])])}var v=e(250),m={data(){return{bookings:[]}},created(){this.fetchBookings()},methods:{fetchBookings(){v.A.get("/api/gatehouse-bookings/").then((o=>{this.bookings=o.data})).catch((o=>{console.error("Error fetching the bookings:",o)}))},updateBooking(o,n){v.A.put(`/api/gatehouse-bookings/${o}/`,n).then((n=>{const e=this.bookings.findIndex((n=>n.id===o));-1!==e&&(this.$set(this.bookings,e,n.data),console.log("Booking updated successfully"))})).catch((o=>{console.error("There was an error updating the booking:",o)}))},cancelBooking(o){confirm("Are you sure you want to cancel this booking?")&&v.A.put(`/api/gatehouse-bookings/${o}/cancel/`).then((()=>{const n=this.bookings.find((n=>n.id===o));n&&(n.cancelled=!0),console.log("Booking cancelled successfully")})).catch((o=>{console.error("Error cancelling the booking:",o)}))},deleteBooking(o){confirm("Are you sure you want to delete this booking?")&&v.A.delete(`/api/gatehouse-bookings/${o}/`).then((()=>{this.bookings=this.bookings.filter((n=>n.id!==o)),console.log("Booking deleted successfully")})).catch((o=>{console.error("Error deleting the booking:",o)}))}}},y=e(262);const C=(0,y.A)(m,[["render",p],["__scopeId","data-v-0d85e9b7"]]);var w=C,B={components:{GatehouseBookingsList:w}};const O=(0,y.A)(B,[["render",s]]);var L=O;const _=(0,t.Ef)(L);_.mount("#app")}},n={};function e(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return o[t](r,r.exports,e),r.exports}e.m=o,function(){var o=[];e.O=function(n,t,i,r){if(!t){var s=1/0;for(u=0;u<o.length;u++){t=o[u][0],i=o[u][1],r=o[u][2];for(var c=!0,a=0;a<t.length;a++)(!1&r||s>=r)&&Object.keys(e.O).every((function(o){return e.O[o](t[a])}))?t.splice(a--,1):(c=!1,r<s&&(s=r));if(c){o.splice(u--,1);var l=i();void 0!==l&&(n=l)}}return n}r=r||0;for(var u=o.length;u>0&&o[u-1][2]>r;u--)o[u]=o[u-1];o[u]=[t,i,r]}}(),function(){e.d=function(o,n){for(var t in n)e.o(n,t)&&!e.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:n[t]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};e.O.j=function(n){return 0===o[n]};var n=function(n,t){var i,r,s=t[0],c=t[1],a=t[2],l=0;if(s.some((function(n){return 0!==o[n]}))){for(i in c)e.o(c,i)&&(e.m[i]=c[i]);if(a)var u=a(e)}for(n&&n(t);l<s.length;l++)r=s[l],e.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return e.O(u)},t=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var t=e.O(void 0,[504],(function(){return e(166)}));t=e.O(t)})();
//# sourceMappingURL=app.a7b24fa9.js.map